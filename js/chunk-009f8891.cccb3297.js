(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-009f8891"],{"25cf":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:""}},[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-sheet",{staticClass:"primary--text font-weight-bold",attrs:{height:"10%"}},[a("h2",[e._v(" Materia: "+e._s(e.materia.nombre))])])],1),a("v-col",{staticStyle:{"background-color":"white"},attrs:{cols:"12"}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.desserts,"hide-default-footer":""},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Lista de alumnos - Grupo "+e._s(e.materia.grupo))]),a("v-spacer"),a("v-sheet",{staticClass:"mr-5"},[a("v-select",{staticStyle:{height:"45px",padding:"0px",margin:"0px"},attrs:{label:"Bloque",items:e.bloques,outlined:"",dense:""},on:{change:function(t){return e.cargarcalificacion()}},model:{value:e.bloque,callback:function(t){e.bloque=t},expression:"bloque"}})],1),a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,o=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"mb-2 mr-2",attrs:{color:"primary",dark:""},on:{click:function(t){e.inputcalificacion=!1}}},"v-btn",o,!1),r),[e._v(" Nuevo alumno ")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-row",{attrs:{"no-gutters":""}},[e.inputcalificacion?a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Calificacion"},model:{value:e.editedItem.calificacion,callback:function(t){e.$set(e.editedItem,"calificacion",t)},expression:"editedItem.calificacion"}})],1):e._e(),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Nombre Completo"},model:{value:e.editedItem.nombre,callback:function(t){e.$set(e.editedItem,"nombre",t)},expression:"editedItem.nombre"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Nombre del tutor"},model:{value:e.editedItem.tutor,callback:function(t){e.$set(e.editedItem,"tutor",t)},expression:"editedItem.tutor"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Telefono"},model:{value:e.editedItem.telefono,callback:function(t){e.$set(e.editedItem,"telefono",t)},expression:"editedItem.telefono"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Edad"},model:{value:e.editedItem.edad,callback:function(t){e.$set(e.editedItem,"edad",t)},expression:"editedItem.edad"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-select",{attrs:{label:"Sexo",items:["niño","niña"]},model:{value:e.editedItem.sexo,callback:function(t){e.$set(e.editedItem,"sexo",t)},expression:"editedItem.sexo"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v(" Cancelar ")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.save}},[e._v(" Guardar ")])],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var r=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editItem(r)}}},[e._v(" mdi-pencil ")]),a("v-icon",{attrs:{small:""},on:{click:function(t){return e.deleteItem(r)}}},[e._v(" mdi-delete ")])]}}])})],1)],1)],1)},o=[],n=(a("c740"),a("4160"),a("c975"),a("a434"),a("159b"),a("96cf"),a("1da1")),i=a("bc3a"),s=a.n(i),c={name:"Materia",props:["materia"],data:function(){return{dialog:!1,headers:[{text:"Nombre",value:"nombre"},{text:"Tutor",value:"tutor"},{text:"Telefono",value:"telefono"},{text:"Edad",value:"edad"},{text:"Sexo",value:"sexo"},{text:"Calificacion",value:"calificacion"},{text:"Acciones",value:"actions",sortable:!1}],desserts:[],editedIndex:-1,editedItem:{nombre:"",tutor:"",telefono:"",edad:"",sexo:"",calificacion:""},defaultItem:{nombre:"",tutor:"",telefono:"",edad:"",sexo:"",calificacion:""},inputcalificacion:!1,bloques:[],bloque:""}},computed:{formTitle:function(){return-1===this.editedIndex?"Registrar nuevo alumno":"Editar datos de alumno"},host:function(){return this.$store.state.host}},watch:{dialog:function(e){e||this.close()}},created:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a,r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(a=parseInt(e.materia.bloques),r=1;r<=a;r++)e.bloques.push(r);return t.prev=2,t.next=5,s.a.post(e.host+"grupo/alumnos",e.materia.grupo);case 5:o=t.sent,0!=o.data?e.desserts=o.data:e.desserts=[],t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](2),console.error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[2,9]])})))()},methods:{editItem:function(e){this.editedIndex=this.desserts.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0,this.inputcalificacion=!0},deleteItem:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=t.desserts.indexOf(e),t.desserts.splice(r,1),a.prev=2,a.next=5,s.a.post(t.host+"alumnos/delete",JSON.stringify([e]));case 5:a.sent,a.next=11;break;case 8:a.prev=8,a.t0=a["catch"](2),console.error(a.t0);case 11:case"end":return a.stop()}}),a,null,[[2,8]])})))()},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},save:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a,r,o,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(e.editedIndex>-1)){t.next=15;break}return Object.assign(e.desserts[e.editedIndex],e.editedItem),t.prev=2,a={calificacion:e.desserts[e.editedIndex].calificacion,grupo:e.materia.grupo,bloque:e.bloque,materia:e.materia.nombre,id_alumno:e.desserts[e.editedIndex].id},t.next=6,s.a.post(e.host+"calificaciones/create",JSON.stringify([a]));case 6:r=t.sent,r.status,t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](2),console.error(t.t0);case 13:t.next=26;break;case 15:return t.prev=15,o={grupo:e.materia.grupo,alumnos:[{nombre:e.editedItem.nombre,tutor:e.editedItem.tutor,telefono:e.editedItem.telefono,edad:e.editedItem.edad,sexo:e.editedItem.sexo}]},t.next=19,s.a.post(e.host+"alumnos/create",JSON.stringify(o));case 19:n=t.sent,200==n.status&&e.desserts.push(e.editedItem),t.next=26;break;case 23:t.prev=23,t.t1=t["catch"](15),console.error(t.t1);case 26:e.close();case 27:case"end":return t.stop()}}),t,null,[[2,10],[15,23]])})))()},cargarcalificacion:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,a={grupo:e.materia.grupo,materia:e.materia.nombre,bloque:e.bloque},t.next=4,s.a.post(e.host+"calificaciones",JSON.stringify(a));case 4:r=t.sent,e.desserts.forEach((function(e){e.calificacion=""})),0!=r.data&&r.data.forEach((function(t){var a=e.desserts.findIndex((function(e){return e.id==t.id_alumno}));e.desserts[a].calificacion=t.calificacion})),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),console.error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()}}},l=c,d=a("2877"),u=a("6544"),m=a.n(u),f=a("8336"),v=a("b0af"),b=a("99d9"),p=a("62ad"),x=a("a523"),h=a("8fea"),g=a("169a"),I=a("132d"),k=a("0fd9"),w=a("b974"),_=a("8dd9"),V=a("2fa4"),C=a("8654"),O=a("71d9"),q=a("2a7f"),S=Object(d["a"])(l,r,o,!1,null,null,null);t["default"]=S.exports;m()(S,{VBtn:f["a"],VCard:v["a"],VCardActions:b["a"],VCardText:b["b"],VCardTitle:b["c"],VCol:p["a"],VContainer:x["a"],VDataTable:h["a"],VDialog:g["a"],VIcon:I["a"],VRow:k["a"],VSelect:w["a"],VSheet:_["a"],VSpacer:V["a"],VTextField:C["a"],VToolbar:O["a"],VToolbarTitle:q["a"]})},"2a7f":function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var r=a("71d9"),o=a("80d2"),n=Object(o["i"])("v-toolbar__title"),i=Object(o["i"])("v-toolbar__items");r["a"]}}]);
//# sourceMappingURL=chunk-009f8891.cccb3297.js.map